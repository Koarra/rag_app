Entity Similarity & Crime Similarity Documentation
Entity Similarity
Entity similarity measures the proportion of reference entities that are successfully detected in the current output. The calculation compares entity identifiers between the reference dataset and current system output, counting how many reference entities appear in both sets. This metric is computed as the number of matched entities divided by the total number of reference entities, producing a score between 0 and 1 where 1 indicates perfect entity detection.
Crime Similarity
Crime similarity measures the proportion of reference crimes that are successfully detected across all entities. For each reference entity, the system identifies its associated crime labels as a set and compares this to the crime labels detected in the current output. The calculation aggregates matched crimes across all reference entities, not just those that were detected. Missing entities contribute zero matched crimes but their reference crimes still count in the denominator. The final score is the total number of matched crimes divided by the total number of reference crimes across all entities, producing a value between 0 and 1.
Crime Matching Rules
Crime labels are compared using strict set-based matching where each label must match exactly. The "others" label only matches another "others" label and cannot substitute for specific crime categories. For each entity, matched crimes are determined by set intersection between reference and current crime labels. Extra crimes in the current output do not affect the similarity score, as this metric measures recall rather than precision.
Calculation Flow
The system first normalizes entity identifiers to enable consistent matching between reference and current outputs. Entity similarity is calculated by comparing the full sets of entity keys. Crime similarity then processes each reference entity individually: if the entity exists in the current output, crime sets are compared via intersection; if the entity is missing, all its reference crimes are counted as unmatched. These per-entity results are aggregated into a single crime similarity score.
Example Calculation
Given a reference with three entities—John Smith (fraud, money laundering, tax evasion), ABC Corp (corruption), and Jane Doe (fraud)—and a current output containing only John Smith (fraud, money laundering) and ABC Corp (corruption), the metrics are calculated as follows. Entity similarity is 2 matched entities out of 3 reference entities, yielding 66.7%. Crime similarity aggregates 2 matched crimes from John Smith, 1 from ABC Corp, and 0 from the undetected Jane Doe, totaling 3 matched crimes out of 5 reference crimes, yielding 60%.
Extraction Quality
Extraction quality combines both metrics into a single performance indicator by calculating their arithmetic mean. This composite metric provides an overall assessment of system effectiveness while requiring both entity detection and crime classification to meet minimum thresholds independently. A system cannot compensate for poor entity detection with excellent crime classification, or vice versa, as both capabilities are essential for comprehensive risk assessment.
